<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>I&VIEW Design System</title>
    <link rel="stylesheet" href="../resource/chart/chartjs/Chart.min.css" />
    <link rel="stylesheet" href="../css/contents.css" />

    <script src="../resource/jquery.min.js"></script>
    <script src="../resource/moment.min.js"></script>
    <script src="../resource/chart/chartjs/Chart.min.js"></script>
    <script src="../resource/chart/chartjs/chartjs-plugin-streaming.min.js"></script>
    <script src="../js/script.js"></script>
    <script>
      $(function () {
        var ctx = document.getElementById("barChart"); //캔버스 id값 가져오기
        var myChart = new Chart(ctx, {
          type: "bar", //그래프 형태 지정하기
          data: {
            labels: ["1월", "2월", "3월", "4월", "5월", "6월"], //X축 제목
            datasets: [
              {
                label: "항목1",
                data: [],
                backgroundColor: "rgba(255, 99, 132, 0.2)",
                borderColor: "rgba(255,99,132,1)",
                borderWidth: [1, 0], //선굵기
              },
              {
                label: "항목2",
                data: [],
                backgroundColor: "rgba(54, 162, 235, 0.2)",
                borderColor: "rgba(54, 162, 235, 1)",
              },
            ],
          },
          options: {
            hover: {
              animationDuration: 0,
            },
            scales: {
              //X,Y축 옵션
              xAxes: [
                {
                  type: "realtime",
                  realtime: {
                    duration: 20000, // 데이터가 표시되는 시간
                    delay: 0,
                    onRefresh: function (myChart) {
                      myChart.data.datasets.forEach(function (dataset) {
                        dataset.data.push({
                          x: Date.now(),
                          y: (Math.random() > 0.5 ? 1.0 : -1.0) * Math.round(Math.random() * 100),
                        });
                      });
                    },
                  },
                },
              ],
              yAxes: [
                {
                  ticks: {
                    beginAtZero: true, //Y축의 값이 0부터 시작
                  },
                },
              ],
            },
            legend: {
              position: "bottom",
            },
          },
        });
        document.getElementById("pause").addEventListener("change", function () {
          myChart.options.scales.xAxes[0].realtime.pause = this.checked;
          myChart.update({ duration: 0 });
          document.getElementById("pauseValue").innerHTML = this.checked;
        });
      });
    </script>
  </head>
  <body>
    <div class="content_wrap">
      <div class="row">
        <div class="layout col_12">
          <div class="title_box">
            <h2 class="tit00">Chart.js</h2>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="layout col_12">
          <p class="homepage"><a href="https://www.chartjs.org/" target="_blank" title="새창">chart.js 홈페이지 링크</a></p>
          <p class="homepage"><a href="https://nagix.github.io/chartjs-plugin-streaming/" target="_blank" title="새창">chartjs 실시간 플러그인</a></p>
          <div class="p_menu">
            <ul id="pMenu"></ul>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="layout col_12">
          <div class="title_box item_tit">
            <h3 class="tit01">line chart (realtime)</h3>
          </div>
          <div class="item_exam">
            <div class="title_box">
              <h4 class="tit02">결과화면</h4>
              <label for="pause">pause : </label>
              <span id="pauseValue" class="value">false</span>
              <span><input type="checkbox" id="pause" class="control" /></span>
            </div>
            <div class="chart_box">
              <canvas id="barChart"></canvas>
            </div>
            <div class="title_box">
              <h4 class="tit02">HTML</h4>
            </div>
            <div class="code_box">
              <div
                class="colorscripter-code"
                style="
                  color: #f0f0f0;
                  font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;
                  position: relative !important;
                  overflow: auto;
                "
              >
                <table
                  class="colorscripter-code-table"
                  style="margin: 0; padding: 0; border: none; background-color: #272727; border-radius: 4px"
                  cellspacing="0"
                  cellpadding="0"
                >
                  <tr>
                    <td style="padding: 6px 0; text-align: left">
                      <pre
                        style="
                          margin: 0;
                          padding: 0;
                          color: #f0f0f0;
                          font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;
                          line-height: 130%;
                        "
                      ><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#f0f0f0">&lt;</span><span style="color:#ff3399">link</span>&nbsp;<span style="color:#a8ff58">rel</span>=<span style="color:#ffd500">"stylesheet"</span><span style="color:#a8ff58"></span>&nbsp;<span style="color:#a8ff58">href</span>=<span style="color:#ffd500">"../resource/chart/chartjs/Chart.min.css"</span><span style="color:#a8ff58"></span><span style="color:#f0f0f0">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&lt;!--&nbsp;날짜,&nbsp;&nbsp;플러그인&nbsp;--&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#f0f0f0">&lt;</span><span style="color:#ff3399">script</span>&nbsp;<span style="color:#a8ff58">src</span>=<span style="color:#ffd500">"../resource/moment.min.js"</span><span style="color:#ff3399"></span><span style="color:#f0f0f0">&gt;</span><span style="color:#f0f0f0">&lt;</span><span style="color:#f0f0f0">/</span><span style="color:#ff3399">script</span><span style="color:#f0f0f0">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#f0f0f0">&lt;</span><span style="color:#ff3399">script</span>&nbsp;<span style="color:#a8ff58">src</span>=<span style="color:#ffd500">"../resource/chart/chartjs/Chart.min.js"</span><span style="color:#ff3399"></span><span style="color:#f0f0f0">&gt;</span><span style="color:#f0f0f0">&lt;</span><span style="color:#f0f0f0">/</span><span style="color:#ff3399">script</span><span style="color:#f0f0f0">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">&lt;!--&nbsp;실시간&nbsp;플러그인&nbsp;--&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#f0f0f0">&lt;</span><span style="color:#ff3399">script</span>&nbsp;<span style="color:#a8ff58">src</span>=<span style="color:#ffd500">"../resource/chart/chartjs/chartjs-plugin-streaming.min.js"</span><span style="color:#ff3399"></span><span style="color:#f0f0f0">&gt;</span><span style="color:#f0f0f0">&lt;</span><span style="color:#f0f0f0">/</span><span style="color:#ff3399">script</span><span style="color:#f0f0f0">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#f0f0f0">&lt;</span><span style="color:#ff3399">canvas</span>&nbsp;<span style="color:#a8ff58">id</span>=<span style="color:#ffd500">"barChart"</span><span style="color:#a8ff58"></span><span style="color:#f0f0f0">&gt;</span><span style="color:#f0f0f0">&lt;</span><span style="color:#f0f0f0">/</span><span style="color:#ff3399">canvas</span><span style="color:#f0f0f0">&gt;</span></div></pre>
                      <div style="text-align: right; margin-top: -13px; margin-right: 5px; font-size: 9px; font-style: italic">
                        <a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none">Colored by Color Scripter</a>
                      </div>
                    </td>
                    <td style="vertical-align: bottom; padding: 0 2px 4px 0">
                      <a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration: none; color: white"
                        ><span style="font-size: 9px; word-break: normal; background-color: #4f4f4f; color: white; border-radius: 10px; padding: 1px"
                          >cs</span
                        ></a
                      >
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <div class="title_box">
              <h4 class="tit02">JS</h4>
            </div>
            <div class="code_box">
              <div
                class="colorscripter-code"
                style="
                  color: #f0f0f0;
                  font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;
                  position: relative !important;
                  overflow: auto;
                "
              >
                <table
                  class="colorscripter-code-table"
                  style="margin: 0; padding: 0; border: none; background-color: #272727; border-radius: 4px"
                  cellspacing="0"
                  cellpadding="0"
                >
                  <tr>
                    <td style="padding: 6px 0; text-align: left">
                      <pre
                        style="
                          margin: 0;
                          padding: 0;
                          color: #f0f0f0;
                          font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;
                          line-height: 130%;
                        "
                      ><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">var</span>&nbsp;ctx&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#4be6fa">document</span>.<span style="color:#4be6fa">getElementById</span>(<span style="color:#ffd500">"barChart"</span>);&nbsp;<span style="color:#999999">//캔버스&nbsp;id값&nbsp;가져오기</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">var</span>&nbsp;myChart&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#ff3399">new</span>&nbsp;Chart(ctx,&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;type:&nbsp;<span style="color:#ffd500">'bar'</span>,&nbsp;<span style="color:#999999">//그래프&nbsp;형태&nbsp;지정하기</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;data:&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;labels:&nbsp;[<span style="color:#ffd500">"1월"</span>,&nbsp;<span style="color:#ffd500">"2월"</span>,&nbsp;<span style="color:#ffd500">"3월"</span>,&nbsp;<span style="color:#ffd500">"4월"</span>,&nbsp;<span style="color:#ffd500">"5월"</span>,&nbsp;<span style="color:#ffd500">"6월"</span>],&nbsp;<span style="color:#999999">//X축&nbsp;제목</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;datasets:&nbsp;[{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label:&nbsp;<span style="color:#ffd500">'항목1'</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data:&nbsp;[],</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;backgroundColor:<span style="color:#ffd500">'rgba(255,&nbsp;99,&nbsp;132,&nbsp;0.2)'</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;borderColor:<span style="color:#ffd500">'rgba(255,99,132,1)'</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;borderWidth:&nbsp;[<span style="color:#c10aff">1</span>,<span style="color:#c10aff">0</span>]&nbsp;<span style="color:#999999">//선굵기</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;},{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label:&nbsp;<span style="color:#ffd500">'항목2'</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data:&nbsp;[],</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;backgroundColor:<span style="color:#ffd500">'rgba(54,&nbsp;162,&nbsp;235,&nbsp;0.2)'</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;borderColor:<span style="color:#ffd500">'rgba(54,&nbsp;162,&nbsp;235,&nbsp;1)'</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;}]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;},</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;options:&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;hover:{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;animationDuration:&nbsp;<span style="color:#c10aff">0</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;},</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;scales:&nbsp;{&nbsp;<span style="color:#999999">//X,Y축&nbsp;옵션</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xAxes:&nbsp;[{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type:&nbsp;<span style="color:#ffd500">'realtime'</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;realtime:&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;duration:&nbsp;<span style="color:#c10aff">20000</span>,&nbsp;<span style="color:#999999">//&nbsp;데이터가&nbsp;표시되는&nbsp;시간</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delay:&nbsp;<span style="color:#c10aff">0</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onRefresh:&nbsp;<span style="color:#ff3399">function</span>(myChart)&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myChart.data.datasets.forEach(<span style="color:#ff3399">function</span>(dataset){</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset.data.push({</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x:&nbsp;<span style="color:#4be6fa">Date</span>.now(),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y:&nbsp;(Math.random()&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;<span style="color:#c10aff">0.</span><span style="color:#c10aff">5</span>&nbsp;?&nbsp;<span style="color:#c10aff">1.</span><span style="color:#c10aff">0</span>&nbsp;:&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#c10aff">1.</span><span style="color:#c10aff">0</span>)&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>&nbsp;Math.round(Math.random()&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>&nbsp;<span style="color:#c10aff">100</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}],</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yAxes:&nbsp;[{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ticks:&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;beginAtZero:&nbsp;<span style="color:#c10aff">true</span>&nbsp;<span style="color:#999999">//Y축의&nbsp;값이&nbsp;0부터&nbsp;시작</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;},</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;legend:{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position:&nbsp;<span style="color:#ffd500">'bottom'</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">});</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">//&nbsp;일시정지</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#4be6fa">document</span>.<span style="color:#4be6fa">getElementById</span>(<span style="color:#ffd500">'pause'</span>).<span style="color:#4be6fa">addEventListener</span>(<span style="color:#ffd500">'change'</span>,&nbsp;<span style="color:#ff3399">function</span>()&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">myChart.options.scales.xAxes[<span style="color:#c10aff">0</span>].realtime.pause&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;this.checked;</div><div style="padding:0 6px; white-space:pre; line-height:130%">myChart.update({duration:&nbsp;<span style="color:#c10aff">0</span>});</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#4be6fa">document</span>.<span style="color:#4be6fa">getElementById</span>(<span style="color:#ffd500">'pauseValue'</span>).innerHTML&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;this.checked;</div><div style="padding:0 6px; white-space:pre; line-height:130%">});</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div></pre>
                      <div style="text-align: right; margin-top: -13px; margin-right: 5px; font-size: 9px; font-style: italic">
                        <a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none">Colored by Color Scripter</a>
                      </div>
                    </td>
                    <td style="vertical-align: bottom; padding: 0 2px 4px 0">
                      <a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration: none; color: white"
                        ><span style="font-size: 9px; word-break: normal; background-color: #4f4f4f; color: white; border-radius: 10px; padding: 1px"
                          >cs</span
                        ></a
                      >
                    </td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
